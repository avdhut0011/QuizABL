{% include "quizABL1/header.html" %}
{% load crispy_forms_tags %}
<br>
<br>
<head>
    <title>Quiz Result</title>
    <link rel="stylesheet" type="text/css" href="https://bootswatch.com/5/litera/bootstrap.min.css">
    <style>
        section {
            margin: 20px;
            padding: 20px;
            
            background-color:white;
            border-radius: 8px;
            box-shadow: black;
        }
    </style>
</head>
<div class="container">
    <h1>Quiz Result</h1>
    <h2>Quiz Subject: {{ quiz_session.subject }}</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Question</th>
                <th>Your Answer</th>
                <th>Correct Answer</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for result in results %}
                <tr>
                    <td>{{ result.question_text }}</td>
                    {% if result.user_answer %}
                        <td>{{ result.user_answer }}</td>
                    {% else %}
                        <td>No answer selected</td>
                    {% endif %}
                    <td>{{ result.correct_answer }}</td>
                    <td>
                        {% if result.is_correct %}
                            <span style="color: green;">Correct</span>
                        {% else %}
                            <span style="color: red;">Incorrect</span>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
     <br>
     <br>
     <br>
     

    <div class="container" style="width: 500px;">
        <section>
        <table class="table">
            <tbody>
                <tr>
                    <td>Total Questions:</td>
                    <td>{{ total_questions }}</td>
                </tr>
                <tr>
                    <td>Correct Answers:</td>
                    <td>{{ correct_count }}</td>
                </tr>
                <tr>
                    <td>Score:</td>
                    <td>{{ score_percentage }}%</td>
                    {% if score_percentage < 60 %}
                        <td><span class="badge bg-danger">Fail</span></td>
                        <h5>Better Luck Next Time !!!</h5>
                    {% elif score_percentage >= 60 %}
                        <td><span class="badge bg-success">Pass</span></td>
                        <h5>Congratulations !!!</h5>
                    {% endif %}
                </tr>
            </tbody>
        </table>
    </section>
    </div>
</div>
<br>
<br>
{% include "quizABL1/footer.html" %}